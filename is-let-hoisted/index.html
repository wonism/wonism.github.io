<!DOCTYPE html>
 <html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-jsx-5264fdfea0c7962b1dd7.js" as="script"/><link rel="preload" href="/component---src-templates-blog-post-jsx-e50e29520d3f965eca89.js" as="script"/><link rel="preload" href="/path---is-let-hoisted-6ad520aff5a98b1a4a20.js" as="script"/><link rel="preload" href="/app-3e86baad264279c2c542.js" as="script"/><link rel="preload" href="/commons-4668b2106c15fc21642a.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"15178676390636814000":"app-3e86baad264279c2c542.js","6502461027731969000":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","13342267768353247000":"component---src-templates-blog-post-jsx-e50e29520d3f965eca89.js","14901398054850610000":"component---src-templates-resume-jsx-3ac607585ffdc09209f0.js","14268899301632844000":"component---src-templates-paged-posts-jsx-86d7e7cd970bdf199e58.js","10993649074140887000":"component---src-templates-tagged-posts-jsx-10c36e864775c9661495.js","16798938895614536000":"component---src-pages-photos-jsx-05f0373ef4740588b0b6.js","13994203391546835000":"component---src-pages-index-jsx-ac284de761e5aae697bb.js","3954140758598355500":"path----557518bd178906f8d58a.js","13784418321228782000":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","14010540646449943000":"path---apply-bind-call-8ea93ee8bc2cc975beab.js","16082763796811756000":"path---implement-bind-b3d7c2dd489b3cdcac99.js","14310244838490814000":"path---resume-f1f7a1dd72ef69bdea66.js","4365615526557881300":"path---is-let-hoisted-6ad520aff5a98b1a4a20.js","17023198218201983000":"path---closure-55ba226943e3ef6cb717.js","3363790029807835600":"path---pages-1-412089c4ed6407eead08.js","4412887831933620700":"path---tags-javascript-cc8ea0c6d879fa2fb480.js","5178320696918323000":"path---tags-apply-4144a17dcf686148faf8.js","9143456041217084000":"path---tags-bind-8b3c9725ec22c55d7813.js","14382833355886416000":"path---tags-call-e8f60959e10d46191075.js","17289154974412032000":"path---tags-this-7f421fa32207134fd50d.js","10333352449467711000":"path---tags-object-fde28645ac14f2691f9f.js","3748406575986484000":"path---tags-function-b70a3db21bc65a6f5201.js","7476923967026565000":"path---tags-hoisting-be585f60519f7fec4efa.js","716404884448954100":"path---tags-var-b4a771f77b1555c65ae8.js","16891003937152710000":"path---tags-let-3aa5595d700d2a79a9a5.js","2592392048267434500":"path---tags-const-9e667f02394e6272758b.js","8490025521349218000":"path---tags-tdz-998f39a9d8bbc23956e7.js","8311445983285366000":"path---tags-closure-256468048d9bc1895b32.js","1001189692152167300":"path---tags-클로저-d196550244e66841da4b.js","10649265947461292000":"path---photos-a0e39f21c11f6a62c5ab.js","9347362237655822000":"path---index-f5a7b57b41d6b1c3c3ab.js","5217438866945042000":"component---src-layouts-index-jsx-5264fdfea0c7962b1dd7.js"}
            //]]>
            </script><title data-react-helmet="true">let과 const는 호이스팅 될까? | wonism&#x27;s blog</title><meta data-react-helmet="true" name="keyword" content="javascript, hoisting, var, let, const, TDZ"/><meta data-react-helmet="true" name="author" content="wonism"/><meta data-react-helmet="true" name="og:title" content="let과 const는 호이스팅 될까? | wonism&#x27;s blog"/><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/commons-4668b2106c15fc21642a.js","/app-3e86baad264279c2c542.js","/path---is-let-hoisted-6ad520aff5a98b1a4a20.js","/component---src-templates-blog-post-jsx-e50e29520d3f965eca89.js","/component---src-layouts-index-jsx-5264fdfea0c7962b1dd7.js"
])
  </script><style id="gatsby-inlined-css">@import url(https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css);@import url(https://fonts.googleapis.com/css?family=Lato);@import url(https://cdn.jsdelivr.net/font-d2coding/1.2.1/d2coding.css);.bio img{margin:0 8px 0 0;width:4em;height:4em;border-radius:50%}.bio img,.bio span{display:inline-block;vertical-align:middle}.bio span{color:#515151}.bio small{color:#919191}.resume{margin:auto;width:100%;max-width:720px}.resume>section>ul>li>ul{margin:0 0 16px}.resume .profile-picture{width:120px;height:120px;border-radius:50%}.resume .social-networks a{margin:0 4px;font-size:20px}.resume ul{padding:0 0 0 20px;line-height:2em}.resume ul p{margin:0}.main-container .bio{margin:1em 0 2em}.posts{margin:0 -16px;width:auto;font-size:0}.posts .no-results{margin:40px 0;font-size:16px}.posts .post-card{display:inline-block;padding:0 16px;width:25%;font-size:16px;vertical-align:top}.posts .post-card .card-content{display:block;padding:1em;background-color:transparent;border-radius:8px;transition:background-color .5s ease 0s}.posts .post-card .card-content:hover{background-color:#eee}.posts .post-card .card-content>a{color:inherit;text-decoration:blink}.posts .post-card .card-content>a:hover h3,.posts .post-card .card-content>a:hover p{text-decoration:underline}.posts .post-card .card-content .tags a{color:inherit;text-decoration:blink}.posts .post-card .card-content .tags a:hover small{text-decoration:underline}.posts .post-card h3{margin:0;padding:0 0 1em}.posts .post-card p{margin:0;padding:1em 0}.posts .post-card .tag-icon{position:absolute;top:0;bottom:0;margin:auto;width:18px;height:18px;vertical-align:middle}.posts .post-card .tags{padding:0 0 0 18px;max-width:100%;overflow:hidden;text-overflow:ellipsis}.posts .post-card .tags small{margin-left:4px;vertical-align:top}.post .gatsby-highlight pre{display:block;background:#3f3f3f;color:#dcdcdc;overflow-y:hidden}.post .gatsby-highlight pre code{background:none;border:none;border-radius:3px;display:inline-block;overflow:inherit;padding:1.58333rem;white-space:inherit;word-wrap:normal}.post code{-moz-border-radius:3px;-webkit-border-radius:3px;white-space:pre;white-space:pre-wrap;white-space:pre-line;white-space:-pre-wrap;white-space:-o-pre-wrap;white-space:-moz-pre-wrap;white-space:-hp-pre-wrap;word-wrap:break-word;background:transparent;color:#00b4ff;display:inline;font-family:D2Coding,D2 coding,monospace,serif;max-width:100%;overflow:auto;padding:0 .1625rem}.post .gatsby-highlight pre code{color:#dcdcdc}.post .gatsby-highlight .clojure .attribute,.post .gatsby-highlight .css .class,.post .gatsby-highlight .css .id,.post .gatsby-highlight .keyword,.post .gatsby-highlight .lisp .title,.post .gatsby-highlight .nginx .title,.post .gatsby-highlight .request,.post .gatsby-highlight .status,.post .gatsby-highlight .tag{color:#e3ceab}.post .gatsby-highlight .django .filter .argument,.post .gatsby-highlight .django .template_tag,.post .gatsby-highlight .django .variable{color:#dcdcdc}.post .gatsby-highlight .date,.post .gatsby-highlight .number{color:#8cd0d3}.post .gatsby-highlight .apache .sqbracket,.post .gatsby-highlight .dos .envvar,.post .gatsby-highlight .dos .stream,.post .gatsby-highlight .variable{color:#efdcbc}.post .gatsby-highlight .diff .change,.post .gatsby-highlight .dos .flow,.post .gatsby-highlight .literal,.post .gatsby-highlight .python .built_in,.post .gatsby-highlight .python .exception,.post .gatsby-highlight .tex .special{color:#efefaf}.post .gatsby-highlight .diff .chunk,.post .gatsby-highlight .subst{color:#8f8f8f}.post .gatsby-highlight .apache .tag,.post .gatsby-highlight .diff .header,.post .gatsby-highlight .dos .keyword,.post .gatsby-highlight .haskell .type,.post .gatsby-highlight .nginx .built_in,.post .gatsby-highlight .prompt,.post .gatsby-highlight .python .decorator,.post .gatsby-highlight .ruby .class .parent,.post .gatsby-highlight .tex .command,.post .gatsby-highlight .title{color:#efef8f}.post .gatsby-highlight .dos .winutils,.post .gatsby-highlight .ruby .string,.post .gatsby-highlight .ruby .symbol,.post .gatsby-highlight .ruby .symbol .string{color:#dca3a3}.post .gatsby-highlight .apache .cbracket,.post .gatsby-highlight .attr_selector,.post .gatsby-highlight .built_in,.post .gatsby-highlight .coffeescript .attribute,.post .gatsby-highlight .css .rules .value,.post .gatsby-highlight .diff .deletion,.post .gatsby-highlight .javadoc,.post .gatsby-highlight .pragma,.post .gatsby-highlight .preprocessor,.post .gatsby-highlight .pseudo,.post .gatsby-highlight .smalltalk .array,.post .gatsby-highlight .smalltalk .class,.post .gatsby-highlight .smalltalk .localvars,.post .gatsby-highlight .sql .aggregate,.post .gatsby-highlight .string,.post .gatsby-highlight .tag .value,.post .gatsby-highlight .tex .formula{color:#cc9393}.post .gatsby-highlight .comment,.post .gatsby-highlight .diff .addition,.post .gatsby-highlight .doctype,.post .gatsby-highlight .java .annotation,.post .gatsby-highlight .pi,.post .gatsby-highlight .shebang,.post .gatsby-highlight .template_comment{color:#7f9f7f}.post .gatsby-highlight .coffeescript .javascript,.post .gatsby-highlight .javascript .xml,.post .gatsby-highlight .tex .formula,.post .gatsby-highlight .xml .cdata,.post .gatsby-highlight .xml .css,.post .gatsby-highlight .xml .javascript,.post .gatsby-highlight .xml .vbscript{opacity:.5}.post>div>p:first-child{display:none}.post blockquote{margin:1.5em 10px;padding:.5em 10px;background:#f9f9f9;border-left:10px solid #eee;quotes:"\201C" "\201D" "\2018" "\2019"}.post blockquote:before{margin-right:.25em;color:#ccc;line-height:.1em;font-size:3em;vertical-align:-.4em;content:open-quote}.post blockquote p{display:inline}.post ul{line-height:1.6em}.pagination{margin:20px 0;text-align:center}.pagination a{text-decoration:blink}.pagination a:hover{text-decoration:underline}.instafeed{font-size:0}.instafeed .insta-card{display:inline-block;margin:0;padding:8px 16px;width:100%}@media (min-width:768px){.instafeed .insta-card{padding:16px;width:25%;width:20%}}.instafeed .insta-card img{width:100%}.header{height:80px;line-height:80px}.header a{text-decoration:blink}.header nav{display:inline-block;float:right}.header .list-layout>li{padding:0 20px}/*! normalize.css v7.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}[hidden],template{display:none}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{box-sizing:border-box}body{font-family:Lato,sans-serif;color:#515151}a{color:#00b4ff}a:focus,a:hover{color:#80daff}.container,.header{margin:auto}@media (min-width:320px){.container,.header{max-width:313.6px}}@media (min-width:414px){.container,.header{max-width:405.72px}}@media (min-width:768px){.container,.header{max-width:752.64px}}@media (min-width:1200px){.container,.header{max-width:1176px}}@media (min-width:1440px){.container,.header{max-width:1411.2px}}.clearfix{position:relative}.clearfix,.clearfix:after,.clearfix:before{display:block;content:"";clear:both}.pull-left{float:left}.pull-right{float:right}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.list-layout{margin:0;padding:0;list-style:none}.list-layout>li{display:inline-block;padding:0 10px;cursor:default}.adsbygoogle{margin:16px 0 0}.to-top{display:inline-block;position:fixed;bottom:20px;right:20px;width:40px;height:40px;z-index:99}.to-top>button{padding:0;width:inherit;height:inherit;background-color:transparent;border:none;outline:none;text-align:center;vertical-align:middle;cursor:pointer}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="1218611908"><header class="header" data-reactid="2"><a class="main" href="/" data-reactid="3">Wonism</a><nav data-reactid="4"><ul class="list-layout" data-reactid="5"><li data-reactid="6"><a href="/pages/1" data-reactid="7">Posts</a></li><li data-reactid="8"><a href="/resume" data-reactid="9">Resume</a></li><li data-reactid="10"><a href="/photos" data-reactid="11">Photo</a></li></ul></nav></header><main class="container" data-reactid="12"><div class="post" data-reactid="13"><!-- react-empty: 14 --><h1 data-reactid="15">let과 const는 호이스팅 될까?</h1><p data-reactid="16">August 26, 2017</p><div data-reactid="17"><p><code>let</code> 또는 <code>const</code>가 호이스팅 되는지 여부를 알아보기 전에 <code>호이스팅</code>과 <code>Temporal Dead Zone(TDZ)</code>이란 개념에 대해 알아보겠다.</p>
<h2>Hoisting</h2>
<p><code>let</code> 또는 <code>const</code>가 호이스팅 되는지 여부를 알아보기 전에 <code>호이스팅</code>과 <code>Temporal Dead Zone(TDZ)</code>이란 개념에 대해 알아보겠다.<br />
호이스팅은 말 그대로 끌어올려진다는 의미를 가진다. 스코프 안의 어디에서든 변수 선언은 최상위에서 선언된 것과 동등하다.<br />
아래 예제에서 출력되는 <code>x</code>는 <code>outer scope</code>가 아닌 <code>undefined</code>이다.</p>
<div class="gatsby-highlight">
      <pre class="hljs-js"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token string">'outer scope'</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span>
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token string">'inner scope'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>스코프 안에서 선언된 변수는 항상 최상위에 선언한 것과 동등한 의미를 가지기 때문이다.
즉, 위 코드는 아래와 같은 의미를 지닌다.</p>
<div class="gatsby-highlight">
      <pre class="hljs-js"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token string">'outer scope'</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> x<span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span>
  x <span class="token operator">=</span> <span class="token string">'inner scope'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>여기서 끝나는 것이 아니다. 변수가 선언되기 전에 변수를 사용할 수도 있다.</p>
<div class="gatsby-highlight">
      <pre class="hljs-js"><code>foo <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> foo<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 위는 아래와 같은 의미를 가진다.</span>
<span class="token keyword">var</span> foo<span class="token punctuation">;</span>
foo <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<h2>Temporal Dead Zone</h2>
<h3>var와 let/const의 비교로 보는 TDZ</h3>
<div class="gatsby-highlight">
      <pre class="hljs-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// throws a ReferenceError</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token string">'hey'</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p><code>var</code>와 <code>let/const</code>선언에 대한 범위의 차이 중 하나는 <code>let/const</code>가 <code>TDZ</code>에 의해 제약을 받는다는 것이다.<br />
즉, 변수가 초기화되기 전에 액세스하려고 하면, <code>var</code>처럼 <code>undefined</code>를 반환하지 않고, <code>ReferenceError</code>가 발생한다.
이는 코드를 예측가능하고 잠재적 버그를 쉽게 찾아낼 수 있도록 한다.</p>
<p>위 예제를 보면, <code>let/const</code>선언은 호이스팅을 수행하지 않는다고 생각할 수 있다.<br />
하지만 이는 잘못된 것이며, Hoisting에 관한 예제 코드에서 <code>var</code>를 <code>const</code>으로 바꾸면, 어떤 일이 발생하는지 살펴본다.</p>
<div class="gatsby-highlight">
      <pre class="hljs-js"><code><span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token string">'outer scope'</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token string">'inner scope'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p><code>console.log(x);</code>는 TDZ에 의해 <code>ReferenceError</code>를 발생하게 된다.<br />
이는, <code>let/const</code> 선언은 호이스팅을 수행하기 때문이다.<br />
<code>undefined</code>를 반환하는 <code>var</code>와는 달리, 초기화되기 전에 액세스할 때 에러가 발생한다.</p>
<h3>TDZ 살펴보기</h3>
<p><code>let/const</code>선언은 실행중인 실행 컨텍스트의 <code>어휘적 환경(Lexical Environment)</code>으로 범위가 지정된 변수를 정의한다.<br />
변수는 그들의 어휘적 환경에 포함될 때 생성되지만, 어휘적 바인딩이 실행되기 전까지는 액세스할 수 없다.<br />
새로운 범위에 진입할 때마다 지정된 범위에 속한 모든 <code>let/const</code>바인딩이 지정된 범위 내부의 코드가 실행되기 전에 실행된다. (즉, <code>let/const</code>선언이 호이스팅된다.)<br />
어휘적 바인딩이 실행되기 전까지 액세스할 수 없는 현상을 <code>TDZ</code>라고 한다.</p>
<div class="gatsby-highlight">
      <pre class="hljs-js"><code><span class="token comment" spellcheck="true">// const x를 실행하기 전에 x에 접근하면, TDZ에 의해 ReferenceError가</span>
발생하게 된다<span class="token punctuation">.</span>
<span class="token comment" spellcheck="true">// console.log(x);</span>

<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 위 코드 실행 이후에는 x에 접근할 수 있다.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>어휘적 바인딩에 의해 초기화되며 정의된 변수는 변수가 만들어질 때가 아닌, 값이 해당 초기화 구문 어휘적 바인딩이 실행될 때 값을 할당받는다.<br />
<code>let/const</code>선언의 어휘적 바인딩에 초기화 구문이 없으면, 어휘적 바인딩을 실행할 때, 변수에 <code>undefined</code>가 할당된다.</p>
<div class="gatsby-highlight">
      <pre class="hljs-js"><code><span class="token keyword">let</span> x<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 이는 let x = undefined; 와 같다.</span>
<span class="token comment" spellcheck="true">// const 키워드는 반드시 선언과 동시에 값을 할당해야 한다.</span>
<span class="token comment" spellcheck="true">// const x; Uncaught SyntaxError: Missing initializer in const declaration</span>
</code></pre>
      </div>
<p><code>let/const</code>변수는 초기화 구문이 완전히 실행된 이후에 우변이 실행되고 그 결과 값이 선언된 변수에 할당된 후 초기화된다.
우변에서 <code>let/const</code>로 선언된 변수를 사용하는 경우, 우변은 변수를 읽으려고 시도하지만 초기화 구문이 아직 완전히 실행되지 않은 상태이므로, <code>ReferenceError</code>가 발생한다.</p>
<div class="gatsby-highlight">
      <pre class="hljs-js"><code><span class="token keyword">const</span> x <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ReferenceError</span>
</code></pre>
      </div>
<div class="gatsby-highlight">
      <pre class="hljs-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ReferenceError</span>

<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p><code>디폴트 파라미터(Default Parameters)</code>에서도 <code>TDZ</code>가 적용되는데, 디폴트 파라미터는 주어진 함수의 해당 범위와 내부 범위 사이에 있는 중간 범위에서 실행된다.</p>
<div class="gatsby-highlight">
      <pre class="hljs-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token operator">=</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
  b <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> undefined<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 디폴트 파라미터는 왼쪽에서 오른쪽으로 실행되며, a의 초기화 구문이 b를 읽을 때, b는 TDZ에 있다.</span>
<span class="token comment" spellcheck="true">// 따라서, ReferenceError가 발생한다.</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>a <span class="token operator">=</span> b<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">(</span>undefined<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ReferenceError</span>

<span class="token comment" spellcheck="true">// a는 a의 초기화구문이 a를 읽으려고 할 때, TDZ에 있으므로, ReferenceError가 발생한다.</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>a <span class="token operator">=</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ReferenceError</span>
</code></pre>
      </div>
<p><code>class</code>에서도 <code>TDZ</code>가 적용된다. 상위 생성자를 호출하기 전에 <code>this</code>에 액세스하려고 하는 하위 클래스의 생성자는 <code>ReferenceError</code>를 발생시킨다.
하위 클래스의 생성자가 <code>super();</code>를 호출하지 않는 한, <code>this</code> 바인딩은 초기화되지 않은 것으로 간주된다.
하위 클래스 생성자에 <code>super();</code>가 없으면, 생성자는 암시적으로 <code>return this;</code>를 시도한다.</p>
<div class="gatsby-highlight">
      <pre class="hljs-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token keyword">extends</span> <span class="token class-name">B</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// ReferenceError</span>
  <span class="token comment" spellcheck="true">/* ... */</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">/* ... */</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p><code>TDZ</code>는 초기화되지 않은 바인딩에 액세스하려는 경우, 예기치 않은 결과를 내는 대신에 개발자에게 에러 피드백을 제공하기 때문에 유용하게 사용된다.</p>
<h2>결론</h2>
<p><code>let/const</code>선언 변수는 호이스팅되지 않는 것이 아니다.
스코프에 진입할 때 변수가 만들어지고 TDZ(Temporal Dead Zone)가 생성되지만, 코드 실행이 변수가 실제 있는 위치에 도달할 때까지 액세스할 수 없는 것이다.
<code>let/const</code>변수가 선언된 시점에서 제어흐름은 <code>TDZ</code>를 떠난 상태가 되며, 변수를 사용할 수 있게 된다.</p>
<h2>참고</h2>
<ul>
<li><a href="http://jsrocks.org/2015/01/temporal-dead-zone-tdz-demystified">JS ROCKS : TEMPORAL DEAD ZONE (TDZ) DEMYSTIFIED</a></li>
<li><a href="https://tc39.github.io/ecma262/#sec-let-and-const-declarations">TC39 Github pages : Section 13.3</a></li>
<li><a href="https://dzone.com/articles/learning-es6-using-let-const-and-temporal-dead-zon">DZone : Learning ES6: Using let, const, and Temporal Dead Zone</a></li>
<li><a href="https://ponyfoo.com/articles/es6-let-const-and-temporal-dead-zone-in-depth">Pony Foo : ES6 Let, Const and the “Temporal Dead Zone” (TDZ) in Depth</a></li>
</ul></div><hr data-reactid="18"/><ins class="adsbygoogle " data-ad-client="ca-pub-1777052704513089" data-ad-slot="4491507809" style="display:inline-block;width:100%;" data-ad-format="auto" data-reactid="19"></ins><hr data-reactid="20"/><p class="bio" data-reactid="21"><a href="https://github.com/wonism" data-reactid="22"><img src="https://avatars3.githubusercontent.com/u/13835762?v=4&amp;s=460" alt="wonism" data-reactid="23"/><span data-reactid="24"><!-- react-text: 25 -->Front-end developer<!-- /react-text --><br data-reactid="26"/><small data-reactid="27">Interested in ReactJS, RxJS and Web assembly.</small></span></a></p></div></main><nav class="to-top" data-reactid="28"><button data-reactid="29">↑</button></nav></div></div><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', '80620216', 'auto');
  ga('send', 'pageview');
      </script></body></html>